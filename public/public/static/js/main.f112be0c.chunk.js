(this.webpackJsonpblog1=this.webpackJsonpblog1||[]).push([[0],{156:function(e,t,r){},157:function(e,t,r){},162:function(e,t,r){},196:function(e,t,r){},197:function(e,t,r){},295:function(e,t,r){},296:function(e,t,r){},297:function(e,t,r){},298:function(e,t,r){},299:function(e,t,r){},300:function(e,t,r){},301:function(e,t,r){"use strict";r.r(t);var a=r(1),s=r(0),n=r(35),c=r.n(n),i=(r(156),r(8)),l=r(16),u=r(14);r(157);var o=Object(u.e)((function(e){var t,r,s,n,c=e.updateUser,i=e.user,u=e.history;i&&(t=i.username,r=i.image),t&&(s=Object(a.jsxs)("div",{className:"header__profile",children:[Object(a.jsx)("button",{className:"btn__createArticle",children:Object(a.jsx)(l.b,{to:"/new-article",children:"Create article"})}),Object(a.jsx)("div",{className:"header__username",children:Object(a.jsx)(l.b,{to:"/profile",children:t})}),Object(a.jsx)("div",{children:(n=r,n?Object(a.jsx)(l.b,{to:"/profile",children:Object(a.jsx)("img",{className:"avatar",src:r,alt:"Avatar"})}):Object(a.jsx)(l.b,{to:"/profile",children:Object(a.jsx)("div",{className:"no-avatar",children:"No avatar"})}))}),Object(a.jsx)("button",{onClick:function(){sessionStorage.clear(),u.push("/"),c("")},className:"btn__logOut",children:"Log out"})]}));var o=Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"btn header__signIn",children:Object(a.jsx)(l.b,{to:"/sign-in",children:"Sign In"})}),Object(a.jsx)("button",{className:"btn header__signUp",children:Object(a.jsx)(l.b,{to:"/sign-up",children:"Sing Up"})})]}),d=sessionStorage.getItem("user")?s:o;return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("div",{className:"title",children:Object(a.jsx)(l.b,{to:"/",children:"Realworld Blog"})}),Object(a.jsx)("div",{className:"header__author",children:d})]})})),d=r(305),j=r(3),p=r.n(j),b=r(7),h=r(304),m=r.p+"static/media/Vector.e12685e4.svg",f=r.p+"static/media/path4qwe.c8929b23.svg",x=(r(162),r(120)),O=r(121),v=r(307),g=new(function(){function e(){Object(x.a)(this,e),this.apiBase="https://conduit.productionready.io/api/",this.errorMessage=function(e){switch(e){case 401:return Object(a.jsx)(v.a,{message:"Error",description:"401 Access denied",type:"error",showIcon:!0});case 403:return Object(a.jsx)(v.a,{message:"Error",description:"403 no permission required",type:"error",showIcon:!0});case 404:return Object(a.jsx)(v.a,{message:"Error",description:"404 not found",type:"error",showIcon:!0});case"Failed to fetch":return Object(a.jsx)(v.a,{message:"Error",description:"Not internet connection",type:"error",showIcon:!0});default:return Object(a.jsx)(v.a,{message:"Error",description:"".concat(e," Unknown error"),type:"error",showIcon:!0})}}}return Object(O.a)(e,[{key:"getResource",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,fetch("".concat(this.apiBase).concat(t),{headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)}});case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,fetch("".concat(this.apiBase).concat(t),{headers:{"Content-Type":"application/json;charset=utf-8"}});case 8:a=e.sent;case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getArticles",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r,a){var s,n,c,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,n=0,e.next=4,this.getResource("articles?limit=".concat(t,"&offset=").concat(r),a).catch((function(e){s={message:i.errorMessage(e.message)}}));case 4:return c=e.sent,s||(n=c.json(),c.ok||(s={message:this.errorMessage(c.status)})),e.abrupt("return",s||n);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setRegistration",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"users"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 2:return r=e.sent,a=r.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setAuthentication",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"users/login"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 2:return r=e.sent,a=r.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){var a,s,n,c=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,s=0,e.next=4,this.getResource("articles/".concat(t),r).catch((function(e){a={message:c.errorMessage(e.message)}}));case 4:return n=e.sent,a||(s=n.json(),n.ok||(a={message:this.errorMessage(n.status)})),e.abrupt("return",a||s);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.next=3,this.getResource("profiles/".concat(t));case 3:return a=e.sent,r||200===a.status||(r=!0),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setProfile",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"user"),{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)},body:JSON.stringify(t)});case 2:return a=e.sent,s=a.json(),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){var a,s,n,c=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,e.next=3,fetch("".concat(this.apiBase,"articles"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)},body:JSON.stringify(t)}).catch((function(e){s={message:c.errorMessage(e.message)}}));case 3:return n=e.sent,s||(a=n.json(),n.ok||(s={message:this.errorMessage(n.status)})),e.abrupt("return",s||a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"deleteArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"articles/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)}});case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"unfavoriteArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"articles/").concat(t,"/favorite"),{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)}});case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"favoriteArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"articles/").concat(t,"/favorite"),{method:"post",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)}});case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"updateArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r,a){var s,n,c,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.next=3,fetch("".concat(this.apiBase,"articles/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)},body:JSON.stringify(t)}).catch((function(e){n={message:i.errorMessage(e.message)}}));case 3:return c=e.sent,n||(s=c.json(),c.ok||(n={message:this.errorMessage(c.status)})),e.abrupt("return",n||s);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()}]),e}());function y(e){var t,r,n=e.item,c=e.user,u=n.favorited,o=n.favoritesCount,d=n.tagList,j=n.title,x=n.description,O=n.slug,v=Object(s.useState)(u),y=Object(i.a)(v,2),N=y[0],w=y[1],_=Object(s.useState)(o),k=Object(i.a)(_,2),S=k[0],C=k[1];function T(){return(T=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=12;break}if(!t){e.next=8;break}return e.next=4,g.unfavoriteArticle(O,c.token);case 4:w(!1),C(S-1),e.next=12;break;case 8:return e.next=10,g.favoriteArticle(O,c.token);case 10:w(!0),C(S+1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:"listItem",children:[Object(a.jsxs)("div",{className:"listItem__title",children:[Object(a.jsxs)("div",{className:"title__left",children:[Object(a.jsx)("div",{className:"title__text",children:Object(a.jsxs)(l.b,{to:"/articles/".concat(O),children:[" ",j," "]})}),Object(a.jsxs)("div",{className:"listItem__like",children:[Object(a.jsx)("img",{style:function(){if(c)return{cursor:"pointer"}}(),onClick:function(){return function(e){return T.apply(this,arguments)}(N)},src:(r=N,r?f:m),alt:"like"}),S]})]}),Object(a.jsxs)("div",{className:"listItem__profile profile",children:[Object(a.jsxs)("div",{className:"profile__data",children:[Object(a.jsx)("div",{className:"profile__name",children:n.author.username}),Object(a.jsx)("div",{className:"profile__date",children:(t=n.updatedAt,Object(h.a)(new Date(t),"MMMM d, yyyy"))})]}),Object(a.jsx)("img",{className:"avatar",src:n.author.image,alt:"Avatar"})]})]}),Object(a.jsx)("div",{children:d.map((function(e){return Object(a.jsx)("div",{className:"listItem__tag",children:e},e)}))}),Object(a.jsx)("div",{className:"listItem__description",children:x})]},n.author.username)}r(195),r(196);var N=r(308);r(197);function w(){return Object(a.jsx)("div",{className:"example",children:Object(a.jsx)(N.a,{size:"large"})})}function _(e){var t,r=e.user,n=Object(s.useState)([]),c=Object(i.a)(n,2),l=c[0],u=c[1],o=Object(s.useState)(!0),j=Object(i.a)(o,2),p=j[0],b=j[1],h=Object(s.useState)(!1),m=Object(i.a)(h,2),f=m[0],x=m[1],O="";r&&(O=r.token);return Object(s.useEffect)((function(){g.getArticles(5,0,O).then((function(e){void 0!==e.message?(x(e),b(!1)):(u(e.articles),b(!1))}))}),[]),f||(t=0===l.length&&p?Object(a.jsx)(w,{}):Object(a.jsxs)("div",{className:"list",children:[l.map((function(e,t){return Object(a.jsx)(y,{item:e,user:r},t)})),Object(a.jsx)("div",{className:"pagination",children:Object(a.jsx)(d.a,{defaultCurrent:1,total:500,pageSize:5,onChange:function(e,t){!function(e,t){g.getArticles(t,(e-1)*t,O).then((function(e){void 0!==e.message?(x(e.message),b(!1)):(u(e.articles),b(!1))}))}(e,t)}})})]})),f?Object(a.jsx)("div",{children:f.message}):t}var k=r(146),S=r.n(k),C=r.p+"static/media/Vector1.b3922289.svg";r(295);var T=Object(u.e)((function(e){var t=e.slug,r=e.user,n=e.history,c=Object(s.useState)(0),l=Object(i.a)(c,2),u=l[0],o=l[1],d=Object(s.useState)(!0),j=Object(i.a)(d,2),x=j[0],O=j[1],v=Object(s.useState)(!1),y=Object(i.a)(v,2),N=y[0],_=y[1],k=Object(s.useState)(!1),T=Object(i.a)(k,2),A=T[0],E=T[1],q=Object(s.useState)(u.favorited),I=Object(i.a)(q,2),L=I[0],U=I[1],P=Object(s.useState)(u.favoritesCount),B=Object(i.a)(P,2),D=B[0],M=B[1],z="";r&&(z=r.token);var J=A?Object(a.jsxs)("div",{className:"toolTips",children:[Object(a.jsx)("div",{className:"arrow"}),Object(a.jsxs)("div",{className:"toolTips__img",children:[Object(a.jsx)("img",{src:C,alt:"!"}),Object(a.jsx)("div",{className:"toolTips__title",children:"Are you sure to delete this article?"})]}),Object(a.jsxs)("div",{className:"toolTips__btn",children:[Object(a.jsx)("button",{className:"btn__no",onClick:function(){return E(!1)},children:"No"}),Object(a.jsx)("button",{className:"btn__yes",onClick:function(){return $.apply(this,arguments)},children:"Yes"})]})]}):null;function R(){if(r)return{cursor:"pointer"}}function Y(){return(Y=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=12;break}if(!a){e.next=8;break}return e.next=4,g.unfavoriteArticle(t,z);case 4:U(!1),M(D-1),e.next=12;break;case 8:return e.next=10,g.favoriteArticle(t,z);case 10:U(!0),M(D+1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.deleteArticle(t,z);case 2:n.push("/");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=r&&u&&r.username===u.author.username?Object(a.jsxs)("div",{className:"profile__articleBtn articleBtn",children:[Object(a.jsx)("button",{className:"articleBtn articleBtn__delete",onClick:function(){E(!0)},children:"Delete"}),Object(a.jsx)("button",{className:"articleBtn articleBtn__edit",onClick:function(){n.push("/articles/".concat(t,"/edit"))},children:"Edit"}),J]}):null;return u||N||g.getArticle(t,z).then((function(e){void 0!==e.message?(_(e),O(!1)):(o(e.article),O(!1),M(e.article.favoritesCount),U(e.article.favorited))})),function(){return N?Object(a.jsx)("div",{children:N.message}):x&&!u?Object(a.jsx)(w,{}):Object(a.jsx)("div",{id:"layout",children:Object(a.jsx)("div",{className:"article",children:Object(a.jsxs)("div",{className:"listItem article__listItem",children:[Object(a.jsxs)("div",{className:"listItem__title",children:[Object(a.jsxs)("div",{className:"title__left",children:[Object(a.jsx)("div",{className:"title__text",children:u.title}),Object(a.jsxs)("div",{className:"listItem__like",children:[Object(a.jsx)("img",{style:R(),onClick:function(){return function(e){return Y.apply(this,arguments)}(L)},src:(t=L,t?f:m),alt:"like"}),D]})]}),Object(a.jsxs)("div",{className:"listItem__profile profile",children:[Object(a.jsxs)("div",{className:"profile__data",children:[Object(a.jsx)("div",{className:"profile__name",children:u.author.username}),Object(a.jsx)("div",{className:"profile__date",children:(e=u.updatedAt,Object(h.a)(new Date(e),"MMMM d, yyyy"))})]}),Object(a.jsx)("img",{className:"avatar",src:u.author.image,alt:"Avatar"}),V]})]}),u.tagList.map((function(e){return Object(a.jsx)("div",{className:"listItem__tag article__tag",children:e},e)})),Object(a.jsx)("div",{className:"listItem__description article__description",children:u.description}),Object(a.jsx)("div",{className:"article__text",children:Object(a.jsx)("div",{className:"article__body",children:Object(a.jsx)(S.a,{children:u.body})})})]})})});var e,t}()})),A=(r(296),r(37)),E=r.p+"static/media/check.46dd40cf.svg";var q=Object(u.e)((function(e){var t=e.updateUser,r=e.history,n=Object(A.a)(),c=n.register,u=n.errors,o=n.handleSubmit,d=Object(s.useState)(!0),j=Object(i.a)(d,2),h=j[0],m=j[1],f=/^[\w][\w-\.]*@[\w-]+\.[a-z]{2,4}$/i;function x(){return(x=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getProfile(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user:{username:"",email:t,password:""}},e.next=3,g.setRegistration(r).then((function(e){return e.message}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return e?"input inputError":"input"}var y=function(){var e=Object(b.a)(p.a.mark((function e(a){var s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={user:{username:a.username,email:a.email,password:a.password}},e.next=3,g.setRegistration(s).then((function(e){t(e.user),sessionStorage.setItem("user",JSON.stringify(e.user)),r.push("/")}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(){return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsxs)("div",{className:"signUp",children:[Object(a.jsxs)("form",{onSubmit:o(y),children:[Object(a.jsx)("div",{className:"signUp__title",children:"Create new account"}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Username"}),Object(a.jsx)("input",{className:v(u.username),name:"username",ref:c({required:!0,minLength:3,maxLength:20,validate:function(e){return function(e){return x.apply(this,arguments)}(e)}}),type:"text",placeholder:"Username"}),u.username&&"required"===u.username.type&&Object(a.jsx)("div",{className:"error",children:"Username is required"}),u.username&&"minLength"===u.username.type&&Object(a.jsx)("div",{className:"error",children:"The user name must be at least 3 letters long"}),u.username&&"validate"===u.username.type&&Object(a.jsx)("div",{className:"error",children:"Username already been register"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Email adress"}),Object(a.jsx)("input",{className:v(u.email),name:"email",ref:c({required:!0,pattern:f,validate:function(e){return function(e){return O.apply(this,arguments)}(e)}}),type:"text",placeholder:"Email adress"}),u.email&&"required"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email is required"}),u.email&&"pattern"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email adress not valid"}),u.username&&"validate"===u.username.type&&Object(a.jsx)("div",{className:"error",children:"Email already been register"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Password"}),Object(a.jsx)("input",{className:v(u.password),name:"password",id:"pass",ref:c({required:!0,minLength:8,maxLength:40}),placeholder:"Password",type:"password"}),u.password&&"minLength"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password needs to be at least 8 characters."}),u.password&&"maxLength"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password must be no more than 40 characters"}),u.password&&"required"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Password is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Repeat password"}),Object(a.jsx)("input",{className:v(u.confpassword),name:"confpassword",ref:c({validate:function(e){return e===document.getElementById("pass").value}}),placeholder:"Password",type:"password"}),u.confpassword&&Object(a.jsx)("div",{className:"error",children:"Passwords must match"})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("label",{className:"label-checkbox",children:[Object(a.jsx)("input",{onChange:function(e){return function(e){m(e.target.checked)}(e)},checked:h,className:"checkbox",name:"checkbox",type:"checkbox"}),Object(a.jsx)("span",{className:"fake",children:Object(a.jsx)("img",{src:E,alt:"check"})}),Object(a.jsx)("div",{children:"I agree to the processing of my personal information"})]}),Object(a.jsx)("label",{className:"submit",children:Object(a.jsx)("input",{className:"btn__submit",disabled:(e=h,!e),type:"submit",value:"Create"})})]}),Object(a.jsxs)("div",{className:"alreadySignIn",children:["Already have an account? ",Object(a.jsx)(l.b,{to:"/sign-in",children:"Sign In"}),"."]})]})});var e}()}));r(297);var I=Object(u.e)((function(e){var t=e.updateUser,r=e.history,n=Object(A.a)(),c=n.register,u=n.errors,o=n.handleSubmit,d=Object(s.useState)(!0),j=Object(i.a)(d,2),h=j[0],m=j[1];function f(e){return e?"input inputError":"input"}function x(){return(x=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user:{username:"",email:t,password:""}},e.next=3,g.setRegistration(r).then((function(e){return e.errors.email}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(){var e=Object(b.a)(p.a.mark((function e(a){var s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={user:{email:a.email,password:a.password}},e.next=3,g.setAuthentication(s).then((function(e){e.user?(sessionStorage.setItem("user",JSON.stringify(e.user)),t(e.user),r.push("/"),m(!0)):(m(!1),setTimeout((function(){return m(!0)}),5e3))}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsxs)("div",{className:"signIn",children:[Object(a.jsxs)("form",{onSubmit:o(O),children:[Object(a.jsx)("div",{className:"signIn__title",children:"Sign In"}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Email adress"}),Object(a.jsx)("input",{className:f(u.email),name:"email",ref:c({required:!0,pattern:/^[\w][\w-\.]*@[\w-]+\.[a-z]{2,4}$/i,validate:function(e){return function(e){return x.apply(this,arguments)}(e)}}),type:"text",placeholder:"Email adress"}),u.email&&"required"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email is required"}),u.email&&"pattern"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email adress not valid"}),u.email&&"validate"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email not registered"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Password"}),Object(a.jsx)("input",{className:f(u.password),name:"password",id:"pass",ref:c({required:!0,minLength:8,maxLength:40}),placeholder:"Password",type:"password"}),u.password&&"minLength"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password needs to be at least 8 characters."}),u.password&&"maxLength"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password must be no more than 40 characters"}),u.password&&"required"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Password is required"}),!h&&Object(a.jsx)("div",{className:"error",children:"Password is wrong"})]}),Object(a.jsx)("label",{className:"submit",children:Object(a.jsx)("input",{type:"submit",value:"Login"})})]}),Object(a.jsxs)("div",{className:"alreadySignIn",children:["Don't have an account? ",Object(a.jsx)(l.b,{to:"/sign-up",children:"Sign Up"}),"."]})]})})}));r(298);function L(e){var t=e.updateUser,r=e.userProfile,n=Object(A.a)(),c=n.register,l=n.errors,u=n.handleSubmit,o=Object(s.useState)(""),d=Object(i.a)(o,2),j=d[0],h=d[1],m=Object(s.useState)(""),f=Object(i.a)(m,2),x=f[0],O=f[1];!r||j||x||(h(r.email),O(r.username));function v(){return(v=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.getProfile(t),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user:{username:"",emails:t,password:""}},e.next=3,g.setRegistration(r).then((function(e){return!e.errors.email}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return e?"input inputError":"input"}var w=function(){var e=Object(b.a)(p.a.mark((function e(a){var s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={user:{username:a.username,email:a.email,password:a.password,image:a.image}},e.next=3,g.setProfile(s,r.token).then((function(e){t(e.user),sessionStorage.setItem("user",JSON.stringify(e.user))}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)("div",{className:"signUp",children:Object(a.jsxs)("form",{onSubmit:u(w),children:[Object(a.jsx)("div",{className:"signUp__title",children:"Create new account"}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Username"}),Object(a.jsx)("input",{className:N(l.username),name:"username",onChange:function(e){return O(e.target.value)},value:x,ref:c({required:!0,minLength:3,maxLength:20,validate:function(e){return function(e){return v.apply(this,arguments)}(e)}}),type:"text",placeholder:"Username"}),l.username&&"required"===l.username.type&&Object(a.jsx)("div",{className:"error",children:"Username is required"}),l.username&&"minLength"===l.username.type&&Object(a.jsx)("div",{className:"error",children:"The user name must be at least 3 letters long"}),l.username&&"validate"===l.username.type&&Object(a.jsx)("div",{className:"error",children:"Username already been register"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Email adress"}),Object(a.jsx)("input",{className:N(l.email),name:"email",onChange:function(e){return h(e.target.value)},value:j,ref:c({required:!0,pattern:/^[\w][\w-\.]*@[\w-]+\.[a-z]{2,4}$/i,validate:function(e){return function(e){return y.apply(this,arguments)}(e)}}),type:"text",placeholder:"Email adress"}),l.email&&"required"===l.email.type&&Object(a.jsx)("div",{className:"error",children:"Email is required"}),l.email&&"pattern"===l.email.type&&Object(a.jsx)("div",{className:"error",children:"Email adress not valid"}),l.email&&"validate"===l.email.type&&Object(a.jsx)("div",{className:"error",children:"Email already been register"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"New password"}),Object(a.jsx)("input",{className:N(l.password),name:"password",id:"pass",ref:c({required:!0,minLength:8,maxLength:40}),placeholder:"Password",type:"password"}),l.password&&"minLength"===l.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password needs to be at least 8 characters."}),l.password&&"maxLength"===l.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password must be no more than 40 characters"}),l.password&&"required"===l.password.type&&Object(a.jsx)("div",{className:"error",children:"Password is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Avatar image(url)"}),Object(a.jsx)("input",{className:N(l.image),name:"image",ref:c({pattern:/^https:\/\/[\w-\.]+\.[a-z]{2,5}[\/\w-\.]+$/i}),placeholder:"Avatar image",type:"text"}),l.image&&Object(a.jsx)("div",{className:"error",children:"Invalid url"})]}),Object(a.jsx)("label",{className:"submit",children:Object(a.jsx)("input",{className:"btn__submit",type:"submit",value:"Save"})})]})})})}var U=r(12);r(299);var P=Object(u.e)((function(e){var t=e.user,r=e.slug,n=e.history,c="",l=Object(A.a)(),u=l.register,o=l.errors,d=l.handleSubmit,j=Object(s.useState)([]),h=Object(i.a)(j,2),m=h[0],f=h[1],x=Object(s.useState)(""),O=Object(i.a)(x,2),v=O[0],y=O[1],N=Object(s.useState)(""),_=Object(i.a)(N,2),k=_[0],S=_[1],C=Object(s.useState)(""),T=Object(i.a)(C,2),E=T[0],q=T[1],I=Object(s.useState)(!0),L=Object(i.a)(I,2),P=L[0],B=L[1];function D(e){var t=e.tag;return Object(a.jsxs)("div",{className:"tag",children:[Object(a.jsx)("button",{className:"btn__tag tags",value:"".concat(t),onClick:function(e){return e.preventDefault()},children:t}),Object(a.jsx)("button",{className:"btn__delete",onClick:function(e){e.preventDefault(),function(e){var t=e.target.parentElement.firstChild.value,r=m.slice(0,m.length),a=r.indexOf(t);r.splice(a,1),f(Object(U.a)(r))}(e)},children:"Delete"})]})}function M(e){return e?"createNewArticle__input input inputError":"createNewArticle__input input"}t&&(c=t.token),v||k||E||g.getArticle(r).then((function(e){y(e.article.title),S(e.article.description),q(e.article.body),f(e.article.tagList),B(!1)}));var z=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={article:{title:t.title,description:t.description,body:t.body,tagList:0!==m.length?m:[]}},e.next=3,g.updateArticle(a,c,r);case 3:n.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function J(e){switch(e.target.name){case"title":return y(e.target.value);case"description":return S(e.target.value);case"body":return q(e.target.value);default:return e}}return P?Object(a.jsx)(w,{}):function(){return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)("div",{className:"createNewArticle",children:Object(a.jsxs)("form",{onSubmit:d(z),children:[Object(a.jsx)("div",{className:"createNewArticle__title",children:"Edit article"}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Title"}),Object(a.jsx)("input",{className:M(o.title),name:"title",onChange:function(e){return J(e)},value:v,ref:u({required:!0}),type:"text",placeholder:"Title"}),o.title&&"required"===o.title.type&&Object(a.jsx)("div",{className:"error",children:"Title is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Short description"}),Object(a.jsx)("input",{className:M(o.description),name:"description",onChange:function(e){return J(e)},value:k,ref:u({required:!0}),type:"text",placeholder:"Title"}),o.description&&"required"===o.description.type&&Object(a.jsx)("div",{className:"error",children:"Short description is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Text"}),Object(a.jsx)("textarea",{className:M(o.body),name:"body",value:E,onChange:function(e){return J(e)},ref:u({required:!0}),placeholder:"Text",rows:6}),o.body&&"required"===o.body.type&&Object(a.jsx)("div",{className:"error",children:"Text is required"})]}),Object(a.jsxs)("label",{id:"tagList",children:[Object(a.jsx)("p",{children:"Tags"}),(e=m,e.map((function(e,t){return Object(a.jsx)(D,{tag:e},t)}))),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{className:"".concat(M(o.tagList)," tags "),name:"tagList",type:"text",placeholder:"Tag"}),Object(a.jsx)("button",{className:"btn__delete",onClick:function(e){e.preventDefault(),function(e){e.target.parentElement.firstChild.value=""}(e)},children:"Delete"}),Object(a.jsx)("button",{className:"btn__addTag",onClick:function(e){e.preventDefault(),function(e){e.target.parentElement.firstChild.value&&!m.includes(e.target.parentElement.firstChild.value)&&(f([].concat(Object(U.a)(m),[e.target.parentElement.firstChild.value])),e.target.parentElement.firstChild.value="")}(e)},children:"Add tag"})]})]}),Object(a.jsx)("label",{className:"submit",children:Object(a.jsx)("input",{type:"submit",value:"Send"})})]})})});var e}()}));r(300);var B=Object(u.e)((function(e){var t=e.user,r=e.history,n=Object(A.a)(),c=n.register,l=n.errors,u=n.handleSubmit,o=Object(s.useState)([]),d=Object(i.a)(o,2),j=d[0],h=d[1];function m(e){var t=e.tag;return Object(a.jsxs)("div",{className:"tag",children:[Object(a.jsx)("button",{className:"btn__tag tags",value:"".concat(t),onClick:function(e){return e.preventDefault()},children:t}),Object(a.jsx)("button",{className:"btn__delete",onClick:function(e){e.preventDefault(),function(e){var t=e.target.parentElement.firstChild.value,r=j.slice(0,j.length),a=r.indexOf(t);r.splice(a,1),h(Object(U.a)(r))}(e)},children:"Delete"})]})}function f(e){return e?"createNewArticle__input input inputError":"createNewArticle__input input"}var x,O=function(){var e=Object(b.a)(p.a.mark((function e(a){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={article:{title:a.title,description:a.description,body:a.body,tagList:0!==j.length?j:""}},e.next=3,g.setArticle(s,t.token);case 3:r.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)("div",{className:"createNewArticle",children:Object(a.jsxs)("form",{onSubmit:u(O),children:[Object(a.jsx)("div",{className:"createNewArticle__title",children:"Create new article"}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Title"}),Object(a.jsx)("input",{className:f(l.title),name:"title",ref:c({required:!0}),type:"text",placeholder:"Title"}),l.title&&"required"===l.title.type&&Object(a.jsx)("div",{className:"error",children:"Title is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Short description"}),Object(a.jsx)("input",{className:f(l.description),name:"description",ref:c({required:!0}),type:"text",placeholder:"Title"}),l.description&&"required"===l.description.type&&Object(a.jsx)("div",{className:"error",children:"Short description is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Text"}),Object(a.jsx)("textarea",{className:f(l.body),name:"body",ref:c({required:!0}),placeholder:"Text",rows:6}),l.body&&"required"===l.body.type&&Object(a.jsx)("div",{className:"error",children:"Text is required"})]}),Object(a.jsxs)("label",{id:"tagList",children:[Object(a.jsx)("p",{children:"Tags"}),(x=j,x.map((function(e,t){return Object(a.jsx)(m,{tag:e},t)}))),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{className:"".concat(f(l.tagList)," tags "),name:"tagList",type:"text",placeholder:"Tag"}),Object(a.jsx)("button",{className:"btn__delete",onClick:function(e){e.preventDefault(),function(e){e.target.parentElement.firstChild.value=""}(e)},children:"Delete"}),Object(a.jsx)("button",{className:"btn__addTag",onClick:function(e){e.preventDefault(),function(e){e.target.parentElement.firstChild.value&&!j.includes(e.target.parentElement.firstChild.value)&&(h([].concat(Object(U.a)(j),[e.target.parentElement.firstChild.value])),e.target.parentElement.firstChild.value="")}(e)},children:"Add tag"})]})]}),Object(a.jsx)("label",{className:"submit",children:Object(a.jsx)("input",{type:"submit",value:"Send"})})]})})})}));function D(){var e=Object(s.useState)(JSON.parse(sessionStorage.getItem("user"))),t=Object(i.a)(e,2),r=t[0],n=t[1],c=function(e){n(e)};return Object(a.jsx)("div",{children:Object(a.jsxs)(l.a,{children:[Object(a.jsx)(o,{user:r,updateUser:c}),Object(a.jsx)(u.a,{path:"/articles",exact:!0,render:function(){return Object(a.jsx)(_,{user:r})}}),Object(a.jsx)(u.a,{path:"/",render:function(){return Object(a.jsx)(_,{user:r})},exact:!0}),Object(a.jsx)(u.a,{path:"/articles/:slug",exact:!0,render:function(e){var t=e.match;return Object(a.jsx)(T,{user:r,slug:t.params.slug})}}),Object(a.jsx)(u.a,{path:"/articles/:slug/edit",render:function(e){var t=e.match;return Object(a.jsx)(P,{user:r,slug:t.params.slug})}}),Object(a.jsx)(u.a,{path:"/new-article",exact:!0,render:function(){return Object(a.jsx)(B,{updateUser:c,user:r})}}),Object(a.jsx)(u.a,{path:"/profile",exact:!0,render:function(){return Object(a.jsx)(L,{updateUser:c,userProfile:r})}}),Object(a.jsx)(u.a,{path:"/sign-in",exact:!0,render:function(){return Object(a.jsx)(I,{updateUser:c})}}),Object(a.jsx)(u.a,{path:"/sign-up",exact:!0,render:function(){return Object(a.jsx)(q,{updateUser:c})}})]})})}c.a.render(Object(a.jsx)(D,{}),document.getElementById("root"))}},[[301,1,2]]]);
//# sourceMappingURL=main.f112be0c.chunk.js.map