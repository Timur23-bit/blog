(this.webpackJsonpblog1=this.webpackJsonpblog1||[]).push([[0],{155:function(e,t,r){},156:function(e,t,r){},161:function(e,t,r){},195:function(e,t,r){},196:function(e,t,r){},294:function(e,t,r){},295:function(e,t,r){},296:function(e,t,r){},297:function(e,t,r){},298:function(e,t,r){},299:function(e,t,r){},300:function(e,t,r){"use strict";r.r(t);var a=r(1),s=r(0),n=r(35),c=r.n(n),i=(r(155),r(8)),l=r(16),u=r(14);r(156);var o=Object(u.e)((function(e){var t,r,s,n,c=e.updateUser,i=e.user,u=e.history;i&&(t=i.username,r=i.image),t&&(s=Object(a.jsxs)("div",{className:"header__profile",children:[Object(a.jsx)("button",{className:"btn__createArticle",children:Object(a.jsx)(l.b,{to:"/new-article",children:"Create article"})}),Object(a.jsx)("div",{className:"header__username",children:Object(a.jsx)(l.b,{to:"/profile",children:t})}),Object(a.jsx)("div",{children:(n=r,n?Object(a.jsx)(l.b,{to:"/profile",children:Object(a.jsx)("img",{className:"avatar",src:r,alt:"Avatar"})}):Object(a.jsx)(l.b,{to:"/profile",children:Object(a.jsx)("div",{className:"no-avatar",children:"No avatar"})}))}),Object(a.jsx)("button",{onClick:function(){sessionStorage.clear(),u.push("/"),c("")},className:"btn__logOut",children:"Log out"})]}));var o=Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"btn header__signIn",children:Object(a.jsx)(l.b,{to:"/sign-in",children:"Sign In"})}),Object(a.jsx)("button",{className:"btn header__signUp",children:Object(a.jsx)(l.b,{to:"/sign-up",children:"Sing Up"})})]}),d=sessionStorage.getItem("user")?s:o;return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("div",{className:"title",children:Object(a.jsx)(l.b,{to:"/",children:"Realworld Blog"})}),Object(a.jsx)("div",{className:"header__author",children:d})]})})),d=r(305),j=r(3),p=r.n(j),b=r(7),h=(r(161),r(120)),m=r(121),f=r(307),x=new(function(){function e(){Object(h.a)(this,e),this.apiBase="https://conduit.productionready.io/api/",this.errorMessage=function(e){switch(e){case 401:return Object(a.jsx)(f.a,{message:"Error",description:"401 Access denied",type:"error",showIcon:!0});case 403:return Object(a.jsx)(f.a,{message:"Error",description:"403 no permission required",type:"error",showIcon:!0});case 404:return Object(a.jsx)(f.a,{message:"Error",description:"404 not found",type:"error",showIcon:!0});case"Failed to fetch":return Object(a.jsx)(f.a,{message:"Error",description:"Not internet connection",type:"error",showIcon:!0});default:return Object(a.jsx)(f.a,{message:"Error",description:"".concat(e," Unknown error"),type:"error",showIcon:!0})}}}return Object(m.a)(e,[{key:"getResource",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,fetch("".concat(this.apiBase).concat(t),{headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)}});case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,fetch("".concat(this.apiBase).concat(t),{headers:{"Content-Type":"application/json;charset=utf-8"}});case 8:a=e.sent;case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getArticles",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r,a){var s,n,c,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,n=0,e.next=4,this.getResource("articles?limit=".concat(t,"&offset=").concat(r),a).catch((function(e){s={message:i.errorMessage(e.message)}}));case 4:return c=e.sent,s||(n=c.json(),c.ok||(s={message:this.errorMessage(c.status)})),e.abrupt("return",s||n);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"setRegistration",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"users"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 2:return r=e.sent,a=r.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setAuthentication",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"users/login"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 2:return r=e.sent,a=r.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){var a,s,n,c=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,s=0,e.next=4,this.getResource("articles/".concat(t),r).catch((function(e){a={message:c.errorMessage(e.message)}}));case 4:return n=e.sent,a||(s=n.json(),n.ok||(a={message:this.errorMessage(n.status)})),e.abrupt("return",a||s);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.next=3,this.getResource("profiles/".concat(t));case 3:return a=e.sent,r||200===a.status||(r=!0),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setProfile",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"user"),{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)},body:JSON.stringify(t)});case 2:return a=e.sent,s=a.json(),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){var a,s,n,c=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,e.next=3,fetch("".concat(this.apiBase,"articles"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)},body:JSON.stringify(t)}).catch((function(e){s={message:c.errorMessage(e.message)}}));case 3:return n=e.sent,s||(a=n.json(),n.ok||(s={message:this.errorMessage(n.status)})),e.abrupt("return",s||a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"deleteArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"articles/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)}});case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"unfavoriteArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"articles/").concat(t,"/favorite"),{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)}});case 2:return a=e.sent,s=a.json(),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"favoriteArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"articles/").concat(t,"/favorite"),{method:"post",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)}});case 2:return a=e.sent,s=a.json(),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"updateArticle",value:function(){var e=Object(b.a)(p.a.mark((function e(t,r,a){var s,n,c,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.next=3,fetch("".concat(this.apiBase,"articles/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token ".concat(r)},body:JSON.stringify(t)}).catch((function(e){n={message:i.errorMessage(e.message)}}));case 3:return c=e.sent,n||(s=c.json(),c.ok||(n={message:this.errorMessage(c.status)})),e.abrupt("return",n||s);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,a){return e.apply(this,arguments)}}()}]),e}()),O=r(304),v=r.p+"static/media/path4qwe.c8929b23.svg",g=r.p+"static/media/Vector.e12685e4.svg";function y(e){return e?v:g}function N(e){if(e)return{cursor:"pointer"}}function w(){return(w=Object(b.a)(p.a.mark((function e(t,r,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.deleteArticle(t,r);case 2:a.push("/");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return Object(O.a)(new Date(e),"MMMM d, yyyy")}function k(e){var t,r=e.item,n=e.user,c=r.tagList,u=r.title,o=r.description,d=r.slug,j=Object(s.useState)(r.favorited),h=Object(i.a)(j,2),m=h[0],f=h[1],O=Object(s.useState)(r.favoritesCount),v=Object(i.a)(O,2),g=v[0],w=v[1];function k(){return(k=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}if(!t){e.next=6;break}return e.next=4,x.unfavoriteArticle(d,n.token).then((function(e){f(e.article.favorited),w(e.article.favoritesCount)}));case 4:e.next=8;break;case 6:return e.next=8,x.favoriteArticle(d,n.token).then((function(e){f(e.article.favorited),w(e.article.favoritesCount)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:"listItem",children:[Object(a.jsxs)("div",{className:"listItem__title",children:[Object(a.jsxs)("div",{className:"title__left",children:[Object(a.jsx)("div",{className:"title__text",children:Object(a.jsxs)(l.b,{to:"/articles/".concat(d),children:[" ",(t=u,"".concat(t.slice(0,t.indexOf(" ",40)),"..."))," "]})}),Object(a.jsxs)("div",{className:"listItem__like",children:[Object(a.jsx)("img",{style:N(n),onClick:function(){return function(e){return k.apply(this,arguments)}(m)},src:y(m),alt:"like"}),g]})]}),Object(a.jsxs)("div",{className:"listItem__profile profile",children:[Object(a.jsxs)("div",{className:"profile__data",children:[Object(a.jsx)("div",{className:"profile__name",children:r.author.username}),Object(a.jsx)("div",{className:"profile__date",children:_(r.updatedAt)})]}),Object(a.jsx)("img",{className:"avatar",src:r.author.image,alt:"Avatar"})]})]}),Object(a.jsx)("div",{children:c.map((function(e){return Object(a.jsx)("div",{className:"listItem__tag",children:e},e)}))}),Object(a.jsx)("div",{className:"listItem__description",children:o})]},r.author.username)}r(194),r(195);var S=r(308);r(196);function C(){return Object(a.jsx)("div",{className:"example",children:Object(a.jsx)(S.a,{size:"large"})})}function T(e){var t,r=e.user,n=Object(s.useState)([]),c=Object(i.a)(n,2),l=c[0],u=c[1],o=Object(s.useState)(!0),j=Object(i.a)(o,2),p=j[0],b=j[1],h=Object(s.useState)(!1),m=Object(i.a)(h,2),f=m[0],O=m[1],v="";r&&(v=r.token);return Object(s.useEffect)((function(){x.getArticles(5,0,v).then((function(e){void 0!==e.message?(O(e),b(!1)):(u(e.articles),b(!1))}))}),[]),f||(t=0===l.length&&p?Object(a.jsx)(C,{}):Object(a.jsxs)("div",{className:"list",children:[l.map((function(e,t){return Object(a.jsx)(k,{item:e,user:r},e.slug)})),Object(a.jsx)("div",{className:"pagination",children:Object(a.jsx)(d.a,{defaultCurrent:1,total:500,pageSize:5,onChange:function(e,t){!function(e,t){x.getArticles(t,(e-1)*t,v).then((function(e){void 0!==e.message?(O(e.message),b(!1)):(u(e.articles),b(!1))}))}(e,t)}})})]})),f?Object(a.jsx)("div",{children:f.message}):t}var A=r(146),E=r.n(A),q=r.p+"static/media/Vector1.b3922289.svg";r(294);var I=Object(u.e)((function(e){var t=e.slug,r=e.user,n=e.history,c=Object(s.useState)(0),l=Object(i.a)(c,2),u=l[0],o=l[1],d=Object(s.useState)(!0),j=Object(i.a)(d,2),h=j[0],m=j[1],f=Object(s.useState)(!1),O=Object(i.a)(f,2),v=O[0],g=O[1],k=Object(s.useState)(!1),S=Object(i.a)(k,2),T=S[0],A=S[1],I=Object(s.useState)(u.favorited),L=Object(i.a)(I,2),U=L[0],P=L[1],B=Object(s.useState)(u.favoritesCount),D=Object(i.a)(B,2),z=D[0],M=D[1],J="";r&&(J=r.token);var R=T?Object(a.jsxs)("div",{className:"toolTips",children:[Object(a.jsx)("div",{className:"arrow"}),Object(a.jsxs)("div",{className:"toolTips__img",children:[Object(a.jsx)("img",{src:q,alt:"!"}),Object(a.jsx)("div",{className:"toolTips__title",children:"Are you sure to delete this article?"})]}),Object(a.jsxs)("div",{className:"toolTips__btn",children:[Object(a.jsx)("button",{className:"btn__no",onClick:function(){return A(!1)},children:"No"}),Object(a.jsx)("button",{className:"btn__yes",onClick:function(){return function(e,t,r){return w.apply(this,arguments)}(t,J,n)},children:"Yes"})]})]}):null;function Y(){return(Y=Object(b.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=12;break}if(!a){e.next=8;break}return e.next=4,x.unfavoriteArticle(t,J);case 4:P(!1),M(z-1),e.next=12;break;case 8:return e.next=10,x.favoriteArticle(t,J);case 10:P(!0),M(z+1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=r&&u&&r.username===u.author.username?Object(a.jsxs)("div",{className:"profile__articleBtn articleBtn",children:[Object(a.jsx)("button",{className:"articleBtn articleBtn__delete",onClick:function(){return A(!0)},children:"Delete"}),Object(a.jsx)("button",{className:"articleBtn articleBtn__edit",onClick:function(){return function(e,t){e.push("/articles/".concat(t,"/edit"))}(n,t)},children:"Edit"}),R]}):null;return u||v||x.getArticle(t,J).then((function(e){void 0!==e.message?(g(e),m(!1)):(o(e.article),m(!1),M(e.article.favoritesCount),P(e.article.favorited))})),v?Object(a.jsx)("div",{children:v.message}):h&&!u?Object(a.jsx)(C,{}):Object(a.jsx)("div",{id:"layout",children:Object(a.jsx)("div",{className:"article",children:Object(a.jsxs)("div",{className:"listItem article__listItem",children:[Object(a.jsxs)("div",{className:"listItem__title",children:[Object(a.jsxs)("div",{className:"title__left",children:[Object(a.jsx)("div",{className:"article__titleText title__text",children:u.title}),Object(a.jsxs)("div",{className:"listItem__like",children:[Object(a.jsx)("img",{style:N(r),onClick:function(){return function(e){return Y.apply(this,arguments)}(U)},src:y(U),alt:"like"}),z]})]}),Object(a.jsxs)("div",{className:"listItem__profile profile",children:[Object(a.jsxs)("div",{className:"profile__data",children:[Object(a.jsx)("div",{className:"profile__name",children:u.author.username}),Object(a.jsx)("div",{className:"profile__date",children:_(u.updatedAt)})]}),Object(a.jsx)("img",{className:"avatar",src:u.author.image,alt:"Avatar"}),$]})]}),u.tagList.map((function(e){return Object(a.jsx)("div",{className:"listItem__tag article__tag",children:e},e)})),Object(a.jsx)("div",{className:"listItem__description article__description",children:u.description}),Object(a.jsx)("div",{className:"article__text",children:Object(a.jsx)("div",{className:"article__body",children:Object(a.jsx)(E.a,{children:u.body})})})]})})})})),L=(r(295),r(37)),U=r.p+"static/media/check.46dd40cf.svg";var P=Object(u.e)((function(e){var t=e.updateUser,r=e.history,n=Object(L.a)(),c=n.register,u=n.errors,o=n.handleSubmit,d=Object(s.useState)(!0),j=Object(i.a)(d,2),h=j[0],m=j[1],f=/^[\w][\w-\.]*@[\w-]+\.[a-z]{2,4}$/i;function O(){return(O=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getProfile(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user:{username:"",email:t,password:""}},e.next=3,x.setRegistration(r).then((function(e){return e.message}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return e?"input inputError":"input"}var y=function(){var e=Object(b.a)(p.a.mark((function e(a){var s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={user:{username:a.username,email:a.email,password:a.password}},e.next=3,x.setRegistration(s).then((function(e){t(e.user),sessionStorage.setItem("user",JSON.stringify(e.user)),r.push("/")}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(){return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsxs)("div",{className:"signUp",children:[Object(a.jsxs)("form",{onSubmit:o(y),children:[Object(a.jsx)("div",{className:"signUp__title",children:"Create new account"}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Username"}),Object(a.jsx)("input",{className:g(u.username),name:"username",ref:c({required:!0,minLength:3,maxLength:20,validate:function(e){return function(e){return O.apply(this,arguments)}(e)}}),type:"text",placeholder:"Username"}),u.username&&"required"===u.username.type&&Object(a.jsx)("div",{className:"error",children:"Username is required"}),u.username&&"minLength"===u.username.type&&Object(a.jsx)("div",{className:"error",children:"The user name must be at least 3 letters long"}),u.username&&"validate"===u.username.type&&Object(a.jsx)("div",{className:"error",children:"Username already been register"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Email adress"}),Object(a.jsx)("input",{className:g(u.email),name:"email",ref:c({required:!0,pattern:f,validate:function(e){return function(e){return v.apply(this,arguments)}(e)}}),type:"text",placeholder:"Email adress"}),u.email&&"required"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email is required"}),u.email&&"pattern"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email adress not valid"}),u.username&&"validate"===u.username.type&&Object(a.jsx)("div",{className:"error",children:"Email already been register"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Password"}),Object(a.jsx)("input",{className:g(u.password),name:"password",id:"pass",ref:c({required:!0,minLength:8,maxLength:40}),placeholder:"Password",type:"password"}),u.password&&"minLength"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password needs to be at least 8 characters."}),u.password&&"maxLength"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password must be no more than 40 characters"}),u.password&&"required"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Password is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Repeat password"}),Object(a.jsx)("input",{className:g(u.confpassword),name:"confpassword",ref:c({validate:function(e){return e===document.getElementById("pass").value}}),placeholder:"Password",type:"password"}),u.confpassword&&Object(a.jsx)("div",{className:"error",children:"Passwords must match"})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("label",{className:"label-checkbox",children:[Object(a.jsx)("input",{onChange:function(e){return function(e){m(e.target.checked)}(e)},checked:h,className:"checkbox",name:"checkbox",type:"checkbox"}),Object(a.jsx)("span",{className:"fake",children:Object(a.jsx)("img",{src:U,alt:"check"})}),Object(a.jsx)("div",{children:"I agree to the processing of my personal information"})]}),Object(a.jsx)("label",{className:"submit",children:Object(a.jsx)("input",{className:"btn__submit",disabled:(e=h,!e),type:"submit",value:"Create"})})]}),Object(a.jsxs)("div",{className:"alreadySignIn",children:["Already have an account? ",Object(a.jsx)(l.b,{to:"/sign-in",children:"Sign In"}),"."]})]})});var e}()}));r(296);var B=Object(u.e)((function(e){var t=e.updateUser,r=e.history,n=Object(L.a)(),c=n.register,u=n.errors,o=n.handleSubmit,d=Object(s.useState)(!0),j=Object(i.a)(d,2),h=j[0],m=j[1];function f(e){return e?"input inputError":"input"}function O(){return(O=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user:{username:"",email:t,password:""}},e.next=3,x.setRegistration(r).then((function(e){return e.errors.email}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(){var e=Object(b.a)(p.a.mark((function e(a){var s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={user:{email:a.email,password:a.password}},e.next=3,x.setAuthentication(s).then((function(e){e.user?(sessionStorage.setItem("user",JSON.stringify(e.user)),t(e.user),r.push("/"),m(!0)):(m(!1),setTimeout((function(){return m(!0)}),5e3))}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsxs)("div",{className:"signIn",children:[Object(a.jsxs)("form",{onSubmit:o(v),children:[Object(a.jsx)("div",{className:"signIn__title",children:"Sign In"}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Email adress"}),Object(a.jsx)("input",{className:f(u.email),name:"email",ref:c({required:!0,pattern:/^[\w][\w-\.]*@[\w-]+\.[a-z]{2,4}$/i,validate:function(e){return function(e){return O.apply(this,arguments)}(e)}}),type:"text",placeholder:"Email adress"}),u.email&&"required"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email is required"}),u.email&&"pattern"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email adress not valid"}),u.email&&"validate"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email not registered"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Password"}),Object(a.jsx)("input",{className:f(u.password),name:"password",id:"pass",ref:c({required:!0,minLength:8,maxLength:40}),placeholder:"Password",type:"password"}),u.password&&"minLength"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password needs to be at least 8 characters."}),u.password&&"maxLength"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password must be no more than 40 characters"}),u.password&&"required"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Password is required"}),!h&&Object(a.jsx)("div",{className:"error",children:"Password is wrong"})]}),Object(a.jsx)("label",{className:"submit",children:Object(a.jsx)("input",{type:"submit",value:"Login"})})]}),Object(a.jsxs)("div",{className:"alreadySignIn",children:["Don't have an account? ",Object(a.jsx)(l.b,{to:"/sign-up",children:"Sign Up"}),"."]})]})})}));r(297);var D=Object(u.e)((function(e){var t=e.updateUser,r=e.userProfile,n=e.history,c=Object(L.a)(),l=c.register,u=c.errors,o=c.handleSubmit,d=Object(s.useState)(""),j=Object(i.a)(d,2),h=j[0],m=j[1],f=Object(s.useState)(""),O=Object(i.a)(f,2),v=O[0],g=O[1];function y(){return(y=Object(b.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.getProfile(t),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(b.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={user:{username:"",emails:t,password:""}},e.next=3,x.setRegistration(r).then((function(e){return e.errors.email}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return e?"input inputError":"input"}!r||h||v||(m(r.email),g(r.username));var _=function(){var e=Object(b.a)(p.a.mark((function e(a){var s,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={user:{username:a.username,email:a.email,password:a.password,image:a.image}},e.next=3,x.setProfile(s,r.token).then((function(e){t(e.user),sessionStorage.setItem("user",JSON.stringify(e.user)),n.push("/")}));case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)("div",{className:"signUp",children:Object(a.jsxs)("form",{onSubmit:o(_),children:[Object(a.jsx)("div",{className:"signUp__title",children:"Create new account"}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Username"}),Object(a.jsx)("input",{className:w(u.username),name:"username",onChange:function(e){return g(e.target.value)},value:v,ref:l({required:!0,minLength:3,maxLength:20,validate:function(e){return function(e){return y.apply(this,arguments)}(e)}}),type:"text",placeholder:"Username"}),u.username&&"required"===u.username.type&&Object(a.jsx)("div",{className:"error",children:"Username is required"}),u.username&&"minLength"===u.username.type&&Object(a.jsx)("div",{className:"error",children:"The user name must be at least 3 letters long"}),u.username&&"validate"===u.username.type&&Object(a.jsx)("div",{className:"error",children:"Username already been register"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Email adress"}),Object(a.jsx)("input",{className:w(u.email),name:"email",onChange:function(e){return m(e.target.value)},value:h,ref:l({required:!0,pattern:/^[\w][\w-\.]*@[\w-]+\.[a-z]{2,4}$/i,validate:function(e){return function(e){return N.apply(this,arguments)}(e)}}),type:"text",placeholder:"Email adress"}),u.email&&"required"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email is required"}),u.email&&"pattern"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email adress not valid"}),u.email&&"validate"===u.email.type&&Object(a.jsx)("div",{className:"error",children:"Email already been register"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"New password"}),Object(a.jsx)("input",{className:w(u.password),name:"password",id:"pass",ref:l({required:!0,minLength:8,maxLength:40}),placeholder:"Password",type:"password"}),u.password&&"minLength"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password needs to be at least 8 characters."}),u.password&&"maxLength"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Your password must be no more than 40 characters"}),u.password&&"required"===u.password.type&&Object(a.jsx)("div",{className:"error",children:"Password is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Avatar image(url)"}),Object(a.jsx)("input",{className:w(u.image),name:"image",ref:l({pattern:/^https:\/\/[\w-\.]+\.[a-z]{2,5}[\/\w-\.]+$/i}),placeholder:"Avatar image",type:"text"}),u.image&&Object(a.jsx)("div",{className:"error",children:"Invalid url"})]}),Object(a.jsx)("label",{className:"submit",children:Object(a.jsx)("input",{className:"btn__submit",type:"submit",value:"Save"})})]})})})})),z=r(12);r(298);var M=Object(u.e)((function(e){var t=e.user,r=e.slug,n=e.history,c="",l=Object(L.a)(),u=l.register,o=l.errors,d=l.handleSubmit,j=Object(s.useState)([]),h=Object(i.a)(j,2),m=h[0],f=h[1],O=Object(s.useState)(""),v=Object(i.a)(O,2),g=v[0],y=v[1],N=Object(s.useState)(""),w=Object(i.a)(N,2),_=w[0],k=w[1],S=Object(s.useState)(""),T=Object(i.a)(S,2),A=T[0],E=T[1],q=Object(s.useState)(!0),I=Object(i.a)(q,2),U=I[0],P=I[1];function B(e){var t=e.tag;return Object(a.jsxs)("div",{className:"tag",children:[Object(a.jsx)("button",{className:"btn__tag tags",value:"".concat(t),onClick:function(e){return e.preventDefault()},children:t}),Object(a.jsx)("button",{className:"btn__delete",onClick:function(e){e.preventDefault(),function(e){var t=e.target.parentElement.firstChild.value,r=m.slice(0,m.length),a=r.indexOf(t);r.splice(a,1),f(Object(z.a)(r))}(e)},children:"Delete"})]})}function D(e){return e?"createNewArticle__input input inputError":"createNewArticle__input input"}t&&(c=t.token),g||_||A||x.getArticle(r).then((function(e){y(e.article.title),k(e.article.description),E(e.article.body),f(e.article.tagList),P(!1)}));var M=function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={article:{title:t.title,description:t.description,body:t.body,tagList:0!==m.length?m:[]}},e.next=3,x.updateArticle(a,c,r);case 3:n.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function J(e){switch(e.target.name){case"title":return y(e.target.value);case"description":return k(e.target.value);case"body":return E(e.target.value);default:return e}}return U?Object(a.jsx)(C,{}):function(){return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)("div",{className:"createNewArticle",children:Object(a.jsxs)("form",{onSubmit:d(M),children:[Object(a.jsx)("div",{className:"createNewArticle__title",children:"Edit article"}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Title"}),Object(a.jsx)("input",{className:D(o.title),name:"title",onChange:function(e){return J(e)},value:g,ref:u({required:!0}),type:"text",placeholder:"Title"}),o.title&&"required"===o.title.type&&Object(a.jsx)("div",{className:"error",children:"Title is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Short description"}),Object(a.jsx)("input",{className:D(o.description),name:"description",onChange:function(e){return J(e)},value:_,ref:u({required:!0}),type:"text",placeholder:"Title"}),o.description&&"required"===o.description.type&&Object(a.jsx)("div",{className:"error",children:"Short description is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Text"}),Object(a.jsx)("textarea",{className:D(o.body),name:"body",value:A,onChange:function(e){return J(e)},ref:u({required:!0}),placeholder:"Text",rows:6}),o.body&&"required"===o.body.type&&Object(a.jsx)("div",{className:"error",children:"Text is required"})]}),Object(a.jsxs)("label",{id:"tagList",children:[Object(a.jsx)("p",{children:"Tags"}),(e=m,e.map((function(e,t){return Object(a.jsx)(B,{tag:e},t)}))),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{className:"".concat(D(o.tagList)," tags "),name:"tagList",type:"text",placeholder:"Tag"}),Object(a.jsx)("button",{className:"btn__delete",onClick:function(e){e.preventDefault(),function(e){e.target.parentElement.firstChild.value=""}(e)},children:"Delete"}),Object(a.jsx)("button",{className:"btn__addTag",onClick:function(e){e.preventDefault(),function(e){e.target.parentElement.firstChild.value&&!m.includes(e.target.parentElement.firstChild.value)&&(f([].concat(Object(z.a)(m),[e.target.parentElement.firstChild.value])),e.target.parentElement.firstChild.value="")}(e)},children:"Add tag"})]})]}),Object(a.jsx)("label",{className:"submit",children:Object(a.jsx)("input",{type:"submit",value:"Send"})})]})})});var e}()}));r(299);var J=Object(u.e)((function(e){var t=e.user,r=e.history,n=Object(L.a)(),c=n.register,l=n.errors,u=n.handleSubmit,o=Object(s.useState)([]),d=Object(i.a)(o,2),j=d[0],h=d[1];function m(e){var t=e.tag;return Object(a.jsxs)("div",{className:"tag",children:[Object(a.jsx)("button",{className:"btn__tag tags",value:"".concat(t),onClick:function(e){return e.preventDefault()},children:t}),Object(a.jsx)("button",{className:"btn__delete",onClick:function(e){e.preventDefault(),function(e){var t=e.target.parentElement.firstChild.value,r=j.slice(0,j.length),a=r.indexOf(t);r.splice(a,1),h(Object(z.a)(r))}(e)},children:"Delete"})]})}function f(e){return e?"createNewArticle__input input inputError":"createNewArticle__input input"}var O,v=function(){var e=Object(b.a)(p.a.mark((function e(a){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={article:{title:a.title,description:a.description,body:a.body,tagList:0!==j.length?j:""}},e.next=3,x.setArticle(s,t.token);case 3:r.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)("div",{className:"createNewArticle",children:Object(a.jsxs)("form",{onSubmit:u(v),children:[Object(a.jsx)("div",{className:"createNewArticle__title",children:"Create new article"}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Title"}),Object(a.jsx)("input",{className:f(l.title),name:"title",ref:c({required:!0}),type:"text",placeholder:"Title"}),l.title&&"required"===l.title.type&&Object(a.jsx)("div",{className:"error",children:"Title is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Short description"}),Object(a.jsx)("input",{className:f(l.description),name:"description",ref:c({required:!0}),type:"text",placeholder:"Title"}),l.description&&"required"===l.description.type&&Object(a.jsx)("div",{className:"error",children:"Short description is required"})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{children:"Text"}),Object(a.jsx)("textarea",{className:f(l.body),name:"body",ref:c({required:!0}),placeholder:"Text",rows:6}),l.body&&"required"===l.body.type&&Object(a.jsx)("div",{className:"error",children:"Text is required"})]}),Object(a.jsxs)("label",{id:"tagList",children:[Object(a.jsx)("p",{children:"Tags"}),(O=j,O.map((function(e,t){return Object(a.jsx)(m,{tag:e},t)}))),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{className:"".concat(f(l.tagList)," tags "),name:"tagList",type:"text",placeholder:"Tag"}),Object(a.jsx)("button",{className:"btn__delete",onClick:function(e){e.preventDefault(),function(e){e.target.parentElement.firstChild.value=""}(e)},children:"Delete"}),Object(a.jsx)("button",{className:"btn__addTag",onClick:function(e){e.preventDefault(),function(e){e.target.parentElement.firstChild.value&&!j.includes(e.target.parentElement.firstChild.value)&&(h([].concat(Object(z.a)(j),[e.target.parentElement.firstChild.value])),e.target.parentElement.firstChild.value="")}(e)},children:"Add tag"})]})]}),Object(a.jsx)("label",{className:"submit",children:Object(a.jsx)("input",{type:"submit",value:"Send"})})]})})})}));function R(){var e=Object(s.useState)(JSON.parse(sessionStorage.getItem("user"))),t=Object(i.a)(e,2),r=t[0],n=t[1],c=function(e){n(e)};return Object(a.jsx)("div",{children:Object(a.jsxs)(l.a,{children:[Object(a.jsx)(o,{user:r,updateUser:c}),Object(a.jsx)(u.a,{path:"/articles",exact:!0,render:function(){return Object(a.jsx)(T,{user:r})}}),Object(a.jsx)(u.a,{path:"/",render:function(){return Object(a.jsx)(T,{user:r})},exact:!0}),Object(a.jsx)(u.a,{path:"/articles/:slug",exact:!0,render:function(e){var t=e.match;return Object(a.jsx)(I,{user:r,slug:t.params.slug})}}),Object(a.jsx)(u.a,{path:"/articles/:slug/edit",render:function(e){var t=e.match;return Object(a.jsx)(M,{user:r,slug:t.params.slug})}}),Object(a.jsx)(u.a,{path:"/new-article",exact:!0,render:function(){return Object(a.jsx)(J,{updateUser:c,user:r})}}),Object(a.jsx)(u.a,{path:"/profile",exact:!0,render:function(){return Object(a.jsx)(D,{updateUser:c,userProfile:r})}}),Object(a.jsx)(u.a,{path:"/sign-in",exact:!0,render:function(){return Object(a.jsx)(B,{updateUser:c})}}),Object(a.jsx)(u.a,{path:"/sign-up",exact:!0,render:function(){return Object(a.jsx)(P,{updateUser:c})}})]})})}c.a.render(Object(a.jsx)(R,{}),document.getElementById("root"))}},[[300,1,2]]]);
//# sourceMappingURL=main.34a123cd.chunk.js.map